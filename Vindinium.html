<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="navbar.css" type="text/css" />
        <style>
            #codeBox {
            padding: 0px 0px 0px 0px;
            border: 1px solid black;
            border-style: none;
            background-color: lightgrey;
            max-width: 98%;
            text-align: left;
            }
        </style>
        <title> </title>
    </head>
    <body>

<!--This is the beginning of the nav bar-->
        <h1 id="navheading">Computer Science</h1>
        <a href="http://imaninja.com/">
        <img id="imglechuga"  src="kinglechuga.png">
        </a>
        <ul id="navbar">
            <li><a href="index.html">About Me</a></li>
            <!--<li><a href="#"><img src="https://a2ua.com/silhouette/silhouette-008.jpg"></a></li>-->
            <li><a href="hardware.html">Hardware</a></li>
            <!--<li><a href="#"><img src="http://img.wallpaperfolder.com/f/5D9BAE7D5537/computer-parts-zone.jpg"></a></li>-->
            <li><a href="calculator.html">Calculator</a></li>
            <!--<li><a href="#"><img src="http://www.timesmicrowave.com/images/cms_images/calculator_photo.jpg"></a></li>-->
            <li><a href="todolist.html">ToDo List</a></li>
            <!--<li><a href="#"><img src="http://www.ineedmotivation.com/blog/wp-content/uploads/2008/01/todo.jpgz"></a></li>-->
            <li><a href="Vindinium.html">Vindinium</a> </li>
            <!--<li><a href="#"><img src="http://www.extremetech.com/wp-content/uploads/2015/05/ai-cropped-640x353.jpg"></a></li>-->
            <li><a href="Jorge.html">Big Project</a> </li>
            <!--<li><a href="#"><img src="http://www.timesmicrowave.com/images/cms_images/calculator_photo.jpg"></a></li>-->
            <li><a href="howto.html">How TO?</a></li>
            <li><a href="theend.html">The End</a></li>
        </ul>
<!--This is the end of the nav bar-->

<h2>Vindinium</h2>
<p>Bots Fighting Bots. Isnt it beautiful to have someone else fight your battles? Especially if that person can never die? Heck yea its beautiful. In fact is extremly fun. However, how exactly do you get a non-living non-thinking objects to fight?</p>
<center>
    <img src ="9213711_orig.gif"><!--Endless fight gif-->
</center>
<h2>My Vindinium Code</h2>


<!--Beginning of example of my code-->
            <!---->
            <!---->
            <!---->
<center>
<code>
    <pre id="codeBox">
        var Bot = require('bot');
        var PF = require('pathfinding');
        var bot = new Bot('MY-BOT-ID', 'training', 'http://vindinium.org'); //Put your bot's code here.
        //var bot = new Bot('MY-BOT-ID', 'arena', 'http://v.summitdevclub.com:9000'); //Put your bot's code here.
        //var bot = new Bot('MY-BOT-ID', 'arena', 'http://52.39.33.197:9000/'); //Put your bot's code here.
        var goDir;
        var Promise = require('bluebird');
        Bot.prototype.botBrain = function() {
            return new Promise(function(resolve, reject) {
                _this = bot;
                //////* Write your bot below Here *//////
                //////* Set `myDir` in the direction you want to go and then bot.goDir is set to myDir at the bottom *////////
        
                /*                                      *
                 * This Code is global data!            *
                 *                                      */
        
                // Set myDir to what you want and it will set bot.goDir to that direction at the end.  Unless it is "none"
                var myDir;
                var myPos = [bot.yourBot.pos.x, bot.yourBot.pos.y];
                var i;   //i is 
        
                var enemyBots = [];
                if(bot.yourBot.id != 1) enemyBots.push(bot.bot1);
                if(bot.yourBot.id != 2) enemyBots.push(bot.bot2);
                if(bot.yourBot.id != 3) enemyBots.push(bot.bot3);
                if(bot.yourBot.id != 4) enemyBots.push(bot.bot4);
                
                var closestEnemyBot;
                
        
        //mines owned by enemies
                var enemyMines = [];//This creates a new array that contains the array's of all the enemies mines
                enemyMines = enemyBots[0].mines;//Mines owned by the first enemy bot.
                enemyMines = enemyMines.concat(enemyBots[1].mines);//we have to concat the next array of mines that enemy bot 2 owns
                enemyMines = enemyMines.concat(enemyBots[2].mines);//Finally we concat the array of mines that Enemy bot 3 owns.
        
                //this information collects data to look at all mines that are able to be captured by my bot
                var minesToClaim = bot.freeMines.concat(enemyMines);
                
                //This is data of all mines on the map
                var allMines = minesToClaim.concat(bot.yourBot.mines);
                
                // //Data of how many mines my bot owns. Compares it to all mines on the map
                // var myPerc = bot.yourBot.mines.length / allMines.length;
        
        //look for bot with most mines        
                // var botMostMines = []
                // botMostMines = 
        
        
                /*                                      *
                 * This Code Decides WHAT to do         *
                 *                                      */
                var task;
                
                if(bot.yourBot.life < 30){ //This if else statement helps alert the bot if its health is low
                    task = "lowHealth"     //var task is set to low health
                }
                // else if(bot.freeMines === 0){   //if all mines are taken
                //     task = "stealmines"         // this variable will steal mines from people
                // }                               // 2/8/17 not needed, replaced. Add back if attack is wanted
                
                //else if(bot.freeMines.length === 0){//This is beginning of attack. Perfect if you really want to kill
                //    task = "attackEnemies"// inorder to get mines. Not the best strategy.
                //}
                
                else{;
                    task = "stealMines"     //var task is set to freemines
                }
                //task = "freemines"
        
                /*                                      *
                 * This Code Determines HOW to do it    *
                 *                                      */
        
        //This Code find the nearest freemine and sets myDir toward that direction //
                
            //I Have this code commented out as I currently have a code block that
            //goes for all mines not just freemines
            //Inorder to use again Do not forget to uncomment task = "freemines"
                
                //if(task === "freemines") {
                //     var closestMine = bot.freeMines[0];
                //     for(i = 0; i < bot.freeMines.length; i++) {
                //         if(bot.findDistance(myPos, closestMine) > bot.findDistance(myPos, bot.freeMines[i])) {
                //             closestMine = bot.freeMines[i];
                //         }
                //     }
                //     console.log("Claiming a Free Mine!");
                //     myDir = bot.findPath(myPos, closestMine);
                // }
                
        //Attack other enemies
        //I choose not to make my Bot attack but I still added the code block so I can use it later.
                if(task === "attackEnemies"){
                    var closestEnemyBot = bot.bots[0];
                    for(i = 0; i < bot.bots.length; i++){//compare all bots position to find the closest
                        if(bot.findDistance(myPos, closestEnemyBot) < bot.findDistance(myPos, bot.bots[i])) {
                            closestEnemyBot = bot.bots[i];
                        }
                    }
                    console.log("Attacking enemy bot!");
                    myDir = bot.findPath(myPos, closestEnemyBot.posArray);
                }
                
        //Steal Mines
        
                if(task === "stealMines") {//create a new variable and set it equal to the first array in the array of minestoclaim
                    var closestEnemyMine = bot.enemyMines[0];//we want to compare each and every mine on the map
                    for(i = 0; i < bot.enemyMines.length; i++) {
                        if(bot.findDistance(myPos, closestEnemyMine) > bot.findDistance(myPos, bot.enemyMines[i])) {
                            closestEnemyMine = bot.enemyMines[i];
                        }
                    }
                    console.log("Stealing an enemies mine!");
                    myDir = bot.findPath(myPos, closestEnemyMine);
                }
                
        //Low Health
                if(task === "lowHealth"){
                    var closestTavern = bot.taverns[0];
                    for(i = 0; i < bot.taverns.length; i++){
                        if(bot.findDistance(myPos, closestTavern) < bot.findDistance(myPos, bot.taverns[i])){
                            closestTavern = bot.taverns[i];
                        }
                    }
                    console.log("Going to Tavern!");
                    myDir = bot.findPath(myPos, closestTavern);
                }
                
                
        
                /*                                                                                                                              *
                 * This Code Sets your direction based on myDir.  If you are trying to go to a place that you can't reach, you move randomly.   *
                 * Otherwise you move in the direction set by your code.  Feel free to change this code if you want.                            */
                if(myDir === "none") {
                    console.log("Going Random!");
                    var rand = Math.floor(Math.random() * 4);
                    var dirs = ["north", "south", "east", "west"];
                    bot.goDir = dirs[rand];
                } else {
                    bot.goDir = myDir;
                }
        
        
        
                ///////////* DON'T REMOVE ANTYTHING BELOW THIS LINE *//////////////
                resolve();
            });
        }
        bot.runGame();
    </pre>
</code>
</center>
            <!---->
            <!---->
            <!---->
<!--End of example of my code-->

<br>

<!--Beginning of Explanation-->
<h2>First Objective: Global Data</h2>
<div class=container>
    <p>Looking at this giant piece of code, do not be so intimidated by it. A majority of it is comments that I left so that I could look through my code easily. When I first got the project, Mr Hesby had already preprogrammed a nice and simple bot that would walk around and do simple stuff. However, before I begin to explain each of the tasks that I gave my bot, it is important to note that the entire bots code is broken up into 3 sections: <span style=”color:green;font-weight:bold;”>Global Data, What to do, and How to do it.</span></p>
    <img style="max-width:30pc;" src="sectionsofcode.png">
</div>

<div class=container>
    <center>
    <p style="max-width:90%;"><span style=”color:green;font-weight:bold;”>Global Data</span> is data that can be created and collected from the entire game. The global data that I defined was var enemyMines, var minesToClaim, and var allMines. All of these are variables which is basically a box of information.</p>
    <img src="globalData.png">
    <p>For example the enemyMines is a collection of data relating to mines owned by enemy bots. I created this variable because I wanted to be able to collect information about mines. This information would be used for when all mines are claimed. This variable is an array of mine position arrays. Basically a list of all the x and y positions of mines owned by enemies. My bot is able to collect this information through several steps. First it identifies the first enemy bot and the mines that it owns. Next it Identifies the second enemy bot and concatenates the mines that bot 2 owns with bot ones mines. Finally it concatenates the third enemy bots mines with the first and seconds. Concatinate means to add items to one another by lining up end to end. The reason we want to to this is because if we were to use push to add the arrays to one giant array it could look something like this: [[[x,y]],[[x,y]],[[x,y]],[[x,y]]] compared to concatenate which looks likes this [[x,y],[x,y],[x,y],[x,y]] This is because when we try to push, we are pushing and array of arrays into another array which creates a three dimensional array that confuses the bot. However concatenate says we just want to add up the arrays by lining up each and every array end to end.</p>
    <img src="CreateCONCATENATEFormulawithCtrlLeftClickinExcel.gif">
    <p>With this new data I can continue to create more boxes of information. Knowing the enemies bots mines is important, but I wanted my bot to strategize in just taking and owning mines, so I wanted to create a variable that contained all of the mines on the map that I didn’t own. The vindinium documentation showed that there was already a variable for freemines, so all I had to do was create a new variable of minesToClaim that would contain the arrays of free mines and the arrays of EnemyMines. Now I had a giant array of mines that my bot needed to claim.</p>
    <p>But how exactly does the bot know what to do from here?</p>
    </center>
</div>

<h2>Second Objective: What to Do</h2>
<div class=container>
    <p>Now that we have gone over what I like to think is similar to the short-term memory banks of a program, we can move on to another part of the brain. I don’t know what this part of the brain is called but I am sure that it’s a long word, the best way I can put it is the perception of the bot, this is the section of code that decides what to do.</p>
    <img src="Brain.png">
</div>

<div class=container>
    <center>
        <p>The reason why I like to think of it as the perception because imagine a human. If something were to be thrown at him, most likely they would try to dodge it. Was he expecting something to be thrown at him? Most likely not, but he was still able to dodge it. This is because his perception was able to notice something and send a signal to react to it. Similarly, we have the what to do section in the code that is always looking at the environment and checking to so if something is true.</p>
        <img src="dodgeRench.gif">
    </center>
</div>
<br>
<div class=container>
    <p>The way we were able to do this was through a else if chain as shown here.</p>
    <img style="max-width:20pc;" src= "ifChain.png">
</div>

<br>

<div class=container>
    <p>Let's start with the very first one on the list; if(bot.yourBot.life &lt; 30){task = &#x201c;lowHealth&#x201d;} This is the part that is very similar to the perception of the bot. Every time that it is the bots turn, it looks and checks a variable that stores the bots health to see if it is less than 30 hp. If this is the case then it will set task to lowHealth. But what is lowHealth? If you notice at the beginning of this code block there is a var called task. However this task is not set to equal anything thus it is an empty box. Yet we can put something in it temporarily so that we can use this variable later in the How to do it section. So basically we tell the program to continuously check to see if the bots health is less than 30, when it is less than 30 the bot should go to the tavern and drink the modelo.</p>
    <img style="max-width:30pc;" src="beer.png">
</div>

<br>

<div class=container>
    <center>
    <p>The else if statement was made so that the bot could attack, however in my final bot I didnt actually use an attack function so in reality it is commented out. However it works exactly like the lowHealth section except the task is set to attack.</p>
    <p>And finally there is the Else statement. This is important because as long as the other to if statements are false, the task will be set to stealMines. This is important for the strategy of my bot as I wanted him to stay more independent. Thus by doing this he will just go around collecting mines. However this strategy is not as effective on small maps but at the end I will explain some of the ideas I wished I could have incorporated.</p>
    </center>
</div>

<h2>Objective 3: How to do it</h2>

<div class=container>
    <center>
    <p>This is the part of the code where we can finally begin to use all of this fun stuff that we created. Before I explain exactly what this part includes, its beneficial to just review what we created earlier. We had created memory known as global data which is information that we can use. We also created perception which looks for and responds to certain events. All of these come together in the how to do it In the end I only used two of these blocks in my stable, however I created a total of 5 blocks that I would swap around depending on the strategy that I wanted to use. Here is a picture of the three key blocks.</p>
    <img src="howToDoIt.png">
    </center>
</div>

<br>

<div class=container>
    <center>
        <p style="text-indent:0px;color:red;max-width:50pc;text-align:center;">!!!WARNING: THE FOLLOWING WILL BE VERY WORD HEAVY!!!</p>
        <p>If you haven't noticed yet, the names of these code blocks is literally the same thing as the tasks before. And if you look even closer at it you will realize that there is another if statement, but this time there are no else statements. This is because we are using the what to do section, the task===, by continually checking if the task is set to this. Thus we only care when task=== is true for each code block. </p>
        <P>Maybe it will be easier to understand by breaking one of the actions down. Let's look at the Steal mines section. Here we say it will continually check if task === &#x201c;stealMines&#x201d; then when this statement is true we want to go to the closest mine. While it is not actually written this way, the computer is able to interpet it this way. Let me explain how.</P>
        <p style="max-width:85%;">First off, in this if statement we want to have somewhere to store the mine the bot is going to go to, thus we create a variable known as closestEnemyMine. And we want this variable to be set to the first mine in the array of mines, however this mine is not always the closest mine, thus we need a way to compare all the mines. So we make a for loop and we want this loop to take the first mine and compare to another mine in the array, which ever one is closer will be set to the variable of closestEnemyMine, and this happens again and again until it has gone through the entire array of mines. Then the direction of the bot will be set to this variable. And thats it, not to bad. And this is the same for all of the code blocks. However, it is important to point out that for the attack, in order to find the length you have to specify that you want the position array. This is important because the bot contains several different kinds of arrays, but the only one we want is the position.</p>
    </center>
</div>

<h2>Objective 4: A summary</h2>
<div class=container>
    <p>Overall I would have to admit that my bot is very simple. I really had a lot of ideas going on when I went into this project, yet still over the course of the week I only got to incorporate the very minimum. This is largely due to my fault as there were multiple times I just got stuck on a section spending forever trying to tweak to see what would work. I knew I should have asked for help, but I usually hesitated forever only to find that when I asked one of my peers they new exactly what I did wrong. This is just another reminder of why its important to work as a team as while even I am not that strong when it comes to programming, I still can lend a fresh pair of eyes which always seem to be the best kind of assistance.</p>
    <p>Now I would like to spend a few minutes just reciting some of the things I really really really wanted to add. As I have mentioned before, my strategy was to just farm coins. If I could have, I would have continued working on a function that would have the percentage of mines my bot owned so if it reached a certain percentage it would hang out at a tavern. I actually got this strategy from watching some of the other bots play. At first it seemed to just be a bug, but then it just seemed to work, once the bot had enough mines it would just sit at the tavern and not move. If someone tried to attack the bot it would just drink more and the enemy bot would just keep trying to kill to no avail.</p>
</div>
<div class=container>
    <p>But that's just a fantasy land. All in all, this project brought back memories from my sophomore year mindstorm bot and its battles. AI is super fun to play with and create. I learned that the best way to do something is the simplest way. Additionally, I already had a few Ideas for my final big project but now I know for sure what I am going to be working on.</p>
    <img src="200-robots.jpg">
</div>

    </body>
</html>